<a href="https://github.com/EcoPasteHub/EcoPaste">
  <img src="https://socialify.git.ci/EcoPasteHub/EcoPaste/image?description=1&descriptionEditable=Windows%E3%80%81MacOS%E3%80%81Linux(x11)%20%E7%94%A8%E3%81%AE%E3%82%AA%E3%83%BC%E3%83%97%E3%83%B3%E3%82%BD%E3%83%BC%E3%82%B9%E3%81%AE%E3%82%AF%E3%83%AA%E3%83%83%E3%83%97%E3%83%9C%E3%83%BC%E3%83%89%E7%AE%A1%E7%90%86%E3%83%84%E3%83%BC%E3%83%AB%E3%80%82&font=Source%20Code%20Pro&forks=1&issues=1&logo=https%3A%2F%2Fgithub.com%2FEcoPasteHub%2FEcoPaste%2Fblob%2Fmaster%2Fpublic%2Flogo.png%3Fraw%3Dtrue&name=1&owner=1&pattern=Floating%20Cogs&pulls=1&stargazers=1&theme=Auto" alt="EcoPaste" />
</a>

<div align="center">
  <br/>

  <div>
      日本語 | <a href="./README.md">简体中文</a> | <a href="./README.zh-TW.md">繁體中文</a> | <a href="./README.en-US.md">English</a>
  </div>

  <br/>
    
  <div>
    <a href="https://github.com/EcoPasteHub/EcoPaste/releases">
      <img
        alt="Windows"
        src="https://img.shields.io/badge/-Windows-blue?style=flat-square&logo=data:image/svg+xml;base64,PHN2ZyB0PSIxNzI2MzA1OTcxMDA2IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjE1NDgiIHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4Ij48cGF0aCBkPSJNNTI3LjI3NTU1MTYxIDk2Ljk3MTAzMDEzdjM3My45OTIxMDY2N2g0OTQuNTEzNjE5NzVWMTUuMDI2NzU3NTN6TTUyNy4yNzU1NTE2MSA5MjguMzIzNTA4MTVsNDk0LjUxMzYxOTc1IDgwLjUyMDI4MDQ5di00NTUuNjc3NDcxNjFoLTQ5NC41MTM2MTk3NXpNNC42NzA0NTEzNiA0NzAuODMzNjgyOTdINDIyLjY3Njg1OTI1VjExMC41NjM2ODE5N2wtNDE4LjAwNjQwNzg5IDY5LjI1Nzc5NzUzek00LjY3MDQ1MTM2IDg0Ni43Njc1OTcwM0w0MjIuNjc2ODU5MjUgOTE0Ljg2MDMxMDEzVjU1My4xNjYzMTcwM0g0LjY3MDQ1MTM2eiIgcC1pZD0iMTU0OSIgZmlsbD0iI2ZmZmZmZiI+PC9wYXRoPjwvc3ZnPg=="
      />
    </a >  
    <a href="https://github.com/EcoPasteHub/EcoPaste/releases">
      <img
        alt="MacOS"
        src="https://img.shields.io/badge/-MacOS-black?style=flat-square&logo=apple&logoColor=white"
      />
    </a >
    <a href="https://github.com/EcoPasteHub/EcoPaste/releases">
      <img 
        alt="Linux"
        src="https://img.shields.io/badge/-Linux-yellow?style=flat-square&logo=linux&logoColor=white" 
      />
    </a>
  </div>

  <div>
    <a href="./LICENSE">
      <img
        src="https://img.shields.io/github/license/EcoPasteHub/EcoPaste?style=flat-square"
      />
    </a >
    <a href="https://github.com/EcoPasteHub/EcoPaste/releases">
      <img
        src="https://img.shields.io/github/package-json/v/EcoPasteHub/EcoPaste?style=flat-square"
      />
    </a >
    <a href="https://github.com/EcoPasteHub/EcoPaste/releases">
      <img
        src="https://img.shields.io/github/downloads/EcoPasteHub/EcoPaste/total?style=flat-square"
      />  
    </a >
  </div>

  <br/>

  <picture>
    <source media="(prefers-color-scheme: dark)" srcset="./static/app-dark.ja-JP.png" />
    <source media="(prefers-color-scheme: light)" srcset="./static/app-light.ja-JP.png" />
    <img src="./static/app-light.ja-JP.png" />
  </picture>
</div>

## ダウンロード

### Windows

最新バージョン: [EcoPaste_0.6.0-beta.3_Plus](https://github.com/2899/EcoPaste/releases/download/v0.6.0-beta.3_Plus/EcoPaste_0.6.0-beta.3_Plus_x64-setup.exe)

### MacOS

手動ダウンロード：[Apple Silicon](https://api.ecopaste.cn/download?platform=macos-arm) | [Intel](https://api.ecopaste.cn/download?platform=macos-x64)

HomeBrew：[クリックして確認する](https://ecopaste.cn/guide/install#%E4%BD%BF%E7%94%A8-homebrew-%E5%AE%89%E8%A3%85)

### Linux(x11)

手動ダウンロード：[deb](https://api.ecopaste.cn/download?platform=linux-deb) | [AppImage](https://api.ecopaste.cn/download?platform=linux-appimage) | [rpm](https://api.ecopaste.cn/download?platform=linux-rpm)

インストールガイド：[クリックして確認する](https://ecopaste.cn/guide/install#linux)

## 機能紹介

- 🎉 Tauri v2 をもとに開発、軽量で効率的、クロスプラットフォームの体験をさらに向上させる。
- 💻 Windows、macOS、Linux（x11）とも対応でき、複数デバイス間でシームレスに切り替え可能である。
- ✨ シンプルで直感的なユーザーインターフェース、敷居が低く簡単に利用可能になる。
- 📋 テキスト、リッチテキスト、HTML、画像、ファイル形式のクリップボード内容をサポートできる。
- 🔒 データはローカルに保存され、ユーザーのプライバシーを保護、データはユーザー自身が完全に管理できる。
- 📝 メモ機能をサポートでき、簡単に分類、管理、検索が可能で作業効率を向上させる。
- ⚙️ 豊富なカスタマイズ設定で、異なるユーザーのニーズを満たす個別体験を提供できる。
- 🤝 完善なドキュメントとコミュニティ機能をサポート、開発者と共に成長を目指す。
- 🧩 継続的な最適化し、もっと驚きの機能があなたの発見を待っている。

## 🚀 Fork 版の拡張機能

> 本リポジトリは [EcoPasteHub/EcoPaste](https://github.com/EcoPasteHub/EcoPaste) の Fork 版であり、オリジナル版に基づき以下のユーザビリティ改善を追加しています：

### 📏 テキスト表示行数の設定

- **機能説明**：クリップボード履歴内のテキスト、リッチテキスト、HTMLコンテンツの表示行数をカスタマイズ可能
- **設定場所**：設定 → クリップボード → 表示設定 → テキスト表示行数
- **設定範囲**：1 - 20 行（デフォルト：4 行）
- **効果**：
  - コンテンツ行数 ≤ 設定値の場合：実際の行数で表示
  - コンテンツ行数 > 設定値の場合：設定行数で切り捨て表示

### 🖼️ 画像表示高さの設定

- **機能説明**：クリップボード内の画像プレビューの最大高さをカスタマイズ可能
- **設定場所**：設定 → クリップボード → 表示設定 → 画像表示高さ
- **設定範囲**：50 - 500 ピクセル（デフォルト：100 ピクセル）
- **効果**：画像プレビューの高さが設定値を超える場合、アスペクト比を維持したまま縮小表示

### 🔄 展開/折りたたみ機能

- **機能説明**：コンテンツが表示制限を超える場合、展開/折りたたみボタンを提供します。展開すると全内容をプレビューでき、折りたたむと設定に基づいて切り捨て表示されます。
- **適用範囲**：
  - テキストコンテンツ：設定行数を超える場合に展開ボタンを表示
  - 画像コンテンツ：設定高さを超え、**かつ** 縮小後にコンテナ幅を満たさない場合に展開ボタンを表示
- **操作方法**：履歴アイテム下部の展開/折りたたみボタンをクリックして表示状態を切り替え
- **状態の保持**：展開/折りたたみ状態は仮想スクロールの影響を受けず、スクロール後も状態が維持されます

### 📌 デフォルト折りたたみ機能

- **機能説明**：ウィンドウがアクティブになったときに、展開されているすべてのコンテンツを自動的に折りたたむかどうかを設定可能
- **設定場所**：設定 → クリップボード → 表示設定 → デフォルト折りたたみ
- **動作**：
  - **オン**：ウィンドウがアクティブになるたびに、表示設定を超えるコンテンツを自動的に折りたたむ
  - **オフ**（デフォルト）：展開/折りたたみ状態は常に保持され、ウィンドウのアクティブ化の影響を受けない

### 📍 カーソル位置追従ウィンドウ（Windows）

- **機能説明**：クリップボードウィンドウを入力カーソルの位置に追従して表示可能
- **設定場所**：設定 → クリップボード → ウィンドウ設定 → ウィンドウ位置 → カーソル追従
- **仕組み**：
  1. 現在の入力ボックス内のテキストカーソル位置の取得を優先
  2. 取得できない場合（テキスト入力以外の場面など）は、マウス位置への追従にフォールバック
- **対応プラットフォーム**：現在 Windows システムのみサポート
- **使用シーン**：ドキュメント編集やコーディングなど、頻繁な貼り付けが必要なシーンに最適

### 🎯 フォーカスを奪わないウィンドウ体験（Windows）

- **機能説明**：クリップボードウィンドウを呼び出した際、元のアプリがフォーカスを維持し、Windows 標準の Win+V クリップボードと同様の体験を提供
- **仕組み**：
  - ショートカットキーでウィンドウを呼び出すと、ウィンドウ表示後すぐにフォーカスを元のアプリに戻す
  - 元のアプリの入力カーソルは消えず、編集状態が完全に維持される
  - クリップボードの履歴をクリックすると直接元のアプリに貼り付けられ、ウィンドウは自動的に隠れる
  - 検索が必要な場合、クリップボードウィンドウをクリックすれば通常通り入力可能
  - クリップボードウィンドウ外の領域をクリックすると自動的に隠れる
- **使用フロー**：
  1. 任意のアプリでショートカットキーを押す → クリップボードウィンドウが浮上、元のアプリはフォーカス維持
  2. 履歴をマウスでクリックまたはダブルクリック → コンテンツが元のアプリに貼り付けられ、ウィンドウ消失
  3. ウィンドウ外をクリック → ウィンドウが自動的に隠れる
  4. 再度ショートカットキーを押す → ウィンドウが隠れる
- **対応プラットフォーム**：現在 Windows システムのみサポート

### ⚙️ 設定グループの最適化

- 「表示設定」グループを新規追加し、表示関連の設定項目を合理的に分類：
  - テキスト表示行数、画像表示高さ、デフォルト折りたたみ、操作ボタン、自動並べ替え、元の内容を表示
- 「コンテンツ設定」は以下を保持：自動貼り付け、プレーンテキストとしてコピー、プレーンテキストとして貼り付け、自動お気に入り、削除確認

### 🔧 設定の永続化

- すべての新規設定項目はユーザーデータディレクトリに自動保存されます
- アプリ更新後も設定は失われません
- 設定の手動エクスポート/インポートは不要です

### 🔄 アップストリームの自動同期

- 本リポジトリは毎日自動的にアップストリームの EcoPasteHub/EcoPaste の更新をチェックします
- 新しいバージョンがある場合、自動的にマージしてビルドをトリガーします
- マージ競合が発生した場合は、手動対応のために Issue を作成して通知します

## 🐛 オリジナル版の修正

> 以下はオリジナル版 EcoPaste の既知の問題に対する修正です：

### 📋 クリップボードコンテンツタイプ判定ロジック

- **問題の説明**：
  - ネット上の画像をコピーした際、アプリが「画像」タイプではなく「HTML」タイプとして誤認する場合がある
  - スクリーンショット後、アプリがスクリーンショット画像を「画像」タイプではなく「ファイル」タイプとして誤認する場合がある
- **修正案**：判定ロジックを修正し、コピー内容に画像データが含まれる場合、「画像」タイプとしての識別を優先するようにしました

### 💾 データバックアップ入り口

- **問題の説明**：データバックアップ機能の入り口が欠落している
- **修正案**：データバックアップと復元機能が正常に利用できるように、データバックアップ機能の入り口を表示しました

---

## 問題のフィードバック

1. 🔍 まず、[よくある質問](https://ecopaste.cn/problem/macos/damage)を確認するか、既存の [issues](https://github.com/EcoPasteHub/EcoPaste/issues) をご覧ください。

2. ❓ 問題が解決しない場合は、新しい [issue](https://github.com/EcoPasteHub/EcoPaste/issues/new/choose) を提出し、詳細な説明を添えてください。迅速な解決に役立てます。
